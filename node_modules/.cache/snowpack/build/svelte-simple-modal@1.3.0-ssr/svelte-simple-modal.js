import { create_ssr_component, escape, null_to_empty, add_attribute, validate_component, missing_component } from 'svelte/internal';
import { createEventDispatcher, onDestroy, onMount, setContext } from 'svelte';
import { fade } from 'svelte/transition';

/* node_modules\svelte-simple-modal\src\Modal.svelte generated by Svelte v3.46.3 */

const css = {
	code: ".svelte-1l7fz0q{box-sizing:border-box}.bg.svelte-1l7fz0q{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}.wrap.svelte-1l7fz0q{position:relative;margin:2rem;max-height:100%}.window.svelte-1l7fz0q{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-1l7fz0q{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-1l7fz0q{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\r\n      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-1l7fz0q:before,.close.svelte-1l7fz0q:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\r\n      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-1l7fz0q:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-1l7fz0q:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-1l7fz0q:hover{background:black}.close.svelte-1l7fz0q:hover:before,.close.svelte-1l7fz0q:hover:after{height:2px;background:white}.close.svelte-1l7fz0q:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-1l7fz0q:active{transform:scale(0.9)}.close.svelte-1l7fz0q:hover,.close.svelte-1l7fz0q:focus,.close.svelte-1l7fz0q:active{outline:none}",
	map: "{\"version\":3,\"file\":\"Modal.svelte\",\"sources\":[\"Modal.svelte\"],\"sourcesContent\":[\"<script context=\\\"module\\\">\\r\\n  /**\\r\\n   * Create a Svelte component with props bound to it.\\r\\n   * @type {(component: Component, props: Record<string, any>) => Component}\\r\\n   */\\r\\n  export function bind(Component, props = {}) {\\r\\n    return function ModalComponent(options) {\\r\\n      return new Component({\\r\\n        ...options,\\r\\n        props: {\\r\\n          ...props,\\r\\n          ...options.props,\\r\\n        },\\r\\n      });\\r\\n    };\\r\\n  }\\r\\n</script>\\r\\n\\r\\n<script>\\r\\n  import * as svelte from 'svelte';\\r\\n  import { fade } from 'svelte/transition';\\r\\n  import { createEventDispatcher } from 'svelte';\\r\\n\\r\\n  const dispatch = createEventDispatcher();\\r\\n\\r\\n  const baseSetContext = svelte.setContext;\\r\\n\\r\\n  /**\\r\\n   * Svelte component to be shown as the modal\\r\\n   * @type {Component | null}\\r\\n   */\\r\\n  export let show = null;\\r\\n\\r\\n  /**\\r\\n   * Svelte context key to reference the simple modal context\\r\\n   * @type {string}\\r\\n   */\\r\\n  export let key = 'simple-modal';\\r\\n\\r\\n  /**\\r\\n   * Accessibility label of the modal\\r\\n   * @see https://www.w3.org/TR/wai-aria-1.1/#aria-label\\r\\n   * @type {string | null}\\r\\n   */\\r\\n  export let ariaLabel = null;\\r\\n\\r\\n  /**\\r\\n   * Element ID holding the accessibility label of the modal\\r\\n   * @see https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby\\r\\n   * @type {string | null}\\r\\n   */\\r\\n  export let ariaLabelledBy = null;\\r\\n\\r\\n  /**\\r\\n   * Whether to show a close button or not\\r\\n   * @type {Component | boolean}\\r\\n   */\\r\\n  export let closeButton = true;\\r\\n\\r\\n  /**\\r\\n   * Whether to close the modal on hitting the escape key or not\\r\\n   * @type {boolean}\\r\\n   */\\r\\n  export let closeOnEsc = true;\\r\\n\\r\\n  /**\\r\\n   * Whether to close the modal upon an outside mouse click or not\\r\\n   * @type {boolean}\\r\\n   */\\r\\n  export let closeOnOuterClick = true;\\r\\n\\r\\n  /**\\r\\n   * CSS for styling the background element\\r\\n   * @type {Record<string, string | number>}\\r\\n   */\\r\\n  export let styleBg = {};\\r\\n\\r\\n  /**\\r\\n   * CSS for styling the window wrapper element\\r\\n   * @type {Record<string, string | number>}\\r\\n   */\\r\\n  export let styleWindowWrap = {};\\r\\n\\r\\n  /**\\r\\n   * CSS for styling the window element\\r\\n   * @type {Record<string, string | number>}\\r\\n   */\\r\\n  export let styleWindow = {};\\r\\n\\r\\n  /**\\r\\n   * CSS for styling the content element\\r\\n   * @type {Record<string, string | number>}\\r\\n   */\\r\\n  export let styleContent = {};\\r\\n\\r\\n  /**\\r\\n   * CSS for styling the close element\\r\\n   * @type {Record<string, string | number>}\\r\\n   */\\r\\n  export let styleCloseButton = {};\\r\\n\\r\\n  /**\\r\\n   * Class name for the background element\\r\\n   * @type {string | null}\\r\\n   */\\r\\n  export let classBg = null;\\r\\n\\r\\n  /**\\r\\n   * Class name for window wrapper element\\r\\n   * @type {string | null}\\r\\n   */\\r\\n  export let classWindowWrap = null;\\r\\n\\r\\n  /**\\r\\n   * Class name for window element\\r\\n   * @type {string | null}\\r\\n   */\\r\\n  export let classWindow = null;\\r\\n\\r\\n  /**\\r\\n   * Class name for content element\\r\\n   * @type {string | null}\\r\\n   */\\r\\n  export let classContent = null;\\r\\n\\r\\n  /**\\r\\n   * Class name for close element\\r\\n   * @type {string | null}\\r\\n   */\\r\\n  export let classCloseButton = null;\\r\\n\\r\\n  /**\\r\\n   * Do not apply default styles to the modal\\r\\n   * @type {boolean}\\r\\n   */\\r\\n  export let unstyled = false;\\r\\n\\r\\n  /**\\r\\n   * @type {(key: any, context: any) => void}\\r\\n   */\\r\\n  export let setContext = baseSetContext;\\r\\n\\r\\n  /**\\r\\n   * Transition function for the background element\\r\\n   * @see https://svelte.dev/docs#transition_fn\\r\\n   * @type {(node: Element, parameters: BlurParams) => TransitionConfig}\\r\\n   */\\r\\n  export let transitionBg = fade;\\r\\n\\r\\n  /**\\r\\n   * Parameters for the background element transition\\r\\n   * @type {BlurParams}\\r\\n   */\\r\\n  export let transitionBgProps = { duration: 250 };\\r\\n\\r\\n  /**\\r\\n   * Transition function for the window element\\r\\n   * @see https://svelte.dev/docs#transition_fn\\r\\n   * @type {(node: Element, parameters: BlurParams) => TransitionConfig}\\r\\n   */\\r\\n  export let transitionWindow = transitionBg;\\r\\n\\r\\n  /**\\r\\n   * Parameters for the window element transition\\r\\n   * @type {BlurParams}\\r\\n   */\\r\\n  export let transitionWindowProps = transitionBgProps;\\r\\n\\r\\n  /**\\r\\n   * If `true` elements outside the modal can be focused\\r\\n   * @type {boolean}\\r\\n   */\\r\\n  export let disableFocusTrap = false;\\r\\n\\r\\n  const defaultState = {\\r\\n    ariaLabel,\\r\\n    ariaLabelledBy,\\r\\n    closeButton,\\r\\n    closeOnEsc,\\r\\n    closeOnOuterClick,\\r\\n    styleBg,\\r\\n    styleWindowWrap,\\r\\n    styleWindow,\\r\\n    styleContent,\\r\\n    styleCloseButton,\\r\\n    classBg,\\r\\n    classWindowWrap,\\r\\n    classWindow,\\r\\n    classContent,\\r\\n    classCloseButton,\\r\\n    transitionBg,\\r\\n    transitionBgProps,\\r\\n    transitionWindow,\\r\\n    transitionWindowProps,\\r\\n    disableFocusTrap,\\r\\n    unstyled,\\r\\n  };\\r\\n  let state = { ...defaultState };\\r\\n\\r\\n  let Component = null;\\r\\n\\r\\n  let background;\\r\\n  let wrap;\\r\\n  let modalWindow;\\r\\n  let scrollY;\\r\\n  let cssBg;\\r\\n  let cssWindowWrap;\\r\\n  let cssWindow;\\r\\n  let cssContent;\\r\\n  let cssCloseButton;\\r\\n  let currentTransitionBg;\\r\\n  let currentTransitionWindow;\\r\\n  let prevBodyPosition;\\r\\n  let prevBodyOverflow;\\r\\n  let prevBodyWidth;\\r\\n  let outerClickTarget;\\r\\n\\r\\n  const camelCaseToDash = (str) =>\\r\\n    str.replace(/([a-zA-Z])(?=[A-Z])/g, '$1-').toLowerCase();\\r\\n\\r\\n  const toCssString = (props) =>\\r\\n    props\\r\\n      ? Object.keys(props).reduce(\\r\\n          (str, key) => `${str}; ${camelCaseToDash(key)}: ${props[key]}`,\\r\\n          ''\\r\\n        )\\r\\n      : '';\\r\\n\\r\\n  const isFunction = (f) => !!(f && f.constructor && f.call && f.apply);\\r\\n\\r\\n  const updateStyleTransition = () => {\\r\\n    cssBg = toCssString(\\r\\n      Object.assign(\\r\\n        {},\\r\\n        {\\r\\n          width: window.innerWidth,\\r\\n          height: window.innerHeight,\\r\\n        },\\r\\n        state.styleBg\\r\\n      )\\r\\n    );\\r\\n    cssWindowWrap = toCssString(state.styleWindowWrap);\\r\\n    cssWindow = toCssString(state.styleWindow);\\r\\n    cssContent = toCssString(state.styleContent);\\r\\n    cssCloseButton = toCssString(state.styleCloseButton);\\r\\n    currentTransitionBg = state.transitionBg;\\r\\n    currentTransitionWindow = state.transitionWindow;\\r\\n  };\\r\\n\\r\\n  const toVoid = () => {};\\r\\n  let onOpen = toVoid;\\r\\n  let onClose = toVoid;\\r\\n  let onOpened = toVoid;\\r\\n  let onClosed = toVoid;\\r\\n\\r\\n  const open = (NewComponent, newProps = {}, options = {}, callback = {}) => {\\r\\n    Component = bind(NewComponent, newProps);\\r\\n    state = { ...defaultState, ...options };\\r\\n    updateStyleTransition();\\r\\n    disableScroll();\\r\\n    onOpen = (event) => {\\r\\n      if (callback.onOpen) callback.onOpen(event);\\r\\n      /**\\r\\n       * The open event is fired right before the modal opens\\r\\n       * @event {void} open\\r\\n       */\\r\\n      dispatch('open');\\r\\n      /**\\r\\n       * The opening event is fired right before the modal opens\\r\\n       * @event {void} opening\\r\\n       * @deprecated Listen to the `open` event instead\\r\\n       */\\r\\n      dispatch('opening'); // Deprecated. Do not use!\\r\\n    };\\r\\n    onClose = (event) => {\\r\\n      if (callback.onClose) callback.onClose(event);\\r\\n      /**\\r\\n       * The close event is fired right before the modal closes\\r\\n       * @event {void} close\\r\\n       */\\r\\n      dispatch('close');\\r\\n      /**\\r\\n       * The closing event is fired right before the modal closes\\r\\n       * @event {void} closing\\r\\n       * @deprecated Listen to the `close` event instead\\r\\n       */\\r\\n      dispatch('closing'); // Deprecated. Do not use!\\r\\n    };\\r\\n    onOpened = (event) => {\\r\\n      if (callback.onOpened) callback.onOpened(event);\\r\\n      /**\\r\\n       * The opened event is fired after the modal's opening transition\\r\\n       * @event {void} opened\\r\\n       */\\r\\n      dispatch('opened');\\r\\n    };\\r\\n    onClosed = (event) => {\\r\\n      if (callback.onClosed) callback.onClosed(event);\\r\\n      /**\\r\\n       * The closed event is fired after the modal's closing transition\\r\\n       * @event {void} closed\\r\\n       */\\r\\n      dispatch('closed');\\r\\n    };\\r\\n  };\\r\\n\\r\\n  const close = (callback = {}) => {\\r\\n    if (!Component) return;\\r\\n    onClose = callback.onClose || onClose;\\r\\n    onClosed = callback.onClosed || onClosed;\\r\\n    Component = null;\\r\\n    enableScroll();\\r\\n  };\\r\\n\\r\\n  const handleKeydown = (event) => {\\r\\n    if (state.closeOnEsc && Component && event.key === 'Escape') {\\r\\n      event.preventDefault();\\r\\n      close();\\r\\n    }\\r\\n\\r\\n    if (Component && event.key === 'Tab' && !state.disableFocusTrap) {\\r\\n      // trap focus\\r\\n      const nodes = modalWindow.querySelectorAll('*');\\r\\n      const tabbable = Array.from(nodes).filter((node) => node.tabIndex >= 0);\\r\\n\\r\\n      let index = tabbable.indexOf(document.activeElement);\\r\\n      if (index === -1 && event.shiftKey) index = 0;\\r\\n\\r\\n      index += tabbable.length + (event.shiftKey ? -1 : 1);\\r\\n      index %= tabbable.length;\\r\\n\\r\\n      tabbable[index].focus();\\r\\n      event.preventDefault();\\r\\n    }\\r\\n  };\\r\\n\\r\\n  const handleOuterMousedown = (event) => {\\r\\n    if (\\r\\n      state.closeOnOuterClick &&\\r\\n      (event.target === background || event.target === wrap)\\r\\n    )\\r\\n      outerClickTarget = event.target;\\r\\n  };\\r\\n\\r\\n  const handleOuterMouseup = (event) => {\\r\\n    if (state.closeOnOuterClick && event.target === outerClickTarget) {\\r\\n      event.preventDefault();\\r\\n      close();\\r\\n    }\\r\\n  };\\r\\n\\r\\n  const disableScroll = () => {\\r\\n    scrollY = window.scrollY;\\r\\n    prevBodyPosition = document.body.style.position;\\r\\n    prevBodyOverflow = document.body.style.overflow;\\r\\n    prevBodyWidth = document.body.style.width;\\r\\n    document.body.style.position = 'fixed';\\r\\n    document.body.style.top = `-${scrollY}px`;\\r\\n    document.body.style.overflow = 'hidden';\\r\\n    document.body.style.width = '100%';\\r\\n  };\\r\\n\\r\\n  const enableScroll = () => {\\r\\n    document.body.style.position = prevBodyPosition || '';\\r\\n    document.body.style.top = '';\\r\\n    document.body.style.overflow = prevBodyOverflow || '';\\r\\n    document.body.style.width = prevBodyWidth || '';\\r\\n    window.scrollTo(0, scrollY);\\r\\n  };\\r\\n\\r\\n  setContext(key, { open, close });\\r\\n\\r\\n  let isMounted = false;\\r\\n\\r\\n  $: {\\r\\n    if (isMounted) {\\r\\n      if (isFunction(show)) {\\r\\n        open(show);\\r\\n      } else {\\r\\n        close();\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n\\r\\n  svelte.onDestroy(() => {\\r\\n    if (isMounted) close();\\r\\n  });\\r\\n\\r\\n  svelte.onMount(() => {\\r\\n    isMounted = true;\\r\\n  });\\r\\n</script>\\r\\n\\r\\n<svelte:window on:keydown={handleKeydown} />\\r\\n\\r\\n{#if Component}\\r\\n  <div\\r\\n    class={state.classBg}\\r\\n    class:bg={!unstyled}\\r\\n    on:mousedown={handleOuterMousedown}\\r\\n    on:mouseup={handleOuterMouseup}\\r\\n    bind:this={background}\\r\\n    transition:currentTransitionBg={state.transitionBgProps}\\r\\n    style={cssBg}\\r\\n  >\\r\\n    <div\\r\\n      class={state.classWindowWrap}\\r\\n      class:wrap={!unstyled}\\r\\n      bind:this={wrap}\\r\\n      style={cssWindowWrap}\\r\\n    >\\r\\n      <div\\r\\n        class={state.classWindow}\\r\\n        class:window={!unstyled}\\r\\n        role=\\\"dialog\\\"\\r\\n        aria-modal=\\\"true\\\"\\r\\n        aria-label={state.ariaLabelledBy ? null : state.ariaLabel || null}\\r\\n        aria-labelledby={state.ariaLabelledBy || null}\\r\\n        bind:this={modalWindow}\\r\\n        transition:currentTransitionWindow={state.transitionWindowProps}\\r\\n        on:introstart={onOpen}\\r\\n        on:outrostart={onClose}\\r\\n        on:introend={onOpened}\\r\\n        on:outroend={onClosed}\\r\\n        style={cssWindow}\\r\\n      >\\r\\n        {#if state.closeButton}\\r\\n          {#if isFunction(state.closeButton)}\\r\\n            <svelte:component this={state.closeButton} onClose={close} />\\r\\n          {:else}\\r\\n            <button\\r\\n              class={state.classCloseButton}\\r\\n              class:close={!unstyled}\\r\\n              aria-label=\\\"Close modal\\\"\\r\\n              on:click={close}\\r\\n              style={cssCloseButton}\\r\\n            />\\r\\n          {/if}\\r\\n        {/if}\\r\\n        <div\\r\\n          class={state.classContent}\\r\\n          class:content={!unstyled}\\r\\n          style={cssContent}\\r\\n        >\\r\\n          <svelte:component this={Component} />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n{/if}\\r\\n<slot />\\r\\n\\r\\n<style>\\r\\n  * {\\r\\n    box-sizing: border-box;\\r\\n  }\\r\\n\\r\\n  .bg {\\r\\n    position: fixed;\\r\\n    z-index: 1000;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    width: 100vw;\\r\\n    height: 100vh;\\r\\n    background: rgba(0, 0, 0, 0.66);\\r\\n  }\\r\\n\\r\\n  .wrap {\\r\\n    position: relative;\\r\\n    margin: 2rem;\\r\\n    max-height: 100%;\\r\\n  }\\r\\n\\r\\n  .window {\\r\\n    position: relative;\\r\\n    width: 40rem;\\r\\n    max-width: 100%;\\r\\n    max-height: 100%;\\r\\n    margin: 2rem auto;\\r\\n    color: black;\\r\\n    border-radius: 0.5rem;\\r\\n    background: white;\\r\\n  }\\r\\n\\r\\n  .content {\\r\\n    position: relative;\\r\\n    padding: 1rem;\\r\\n    max-height: calc(100vh - 4rem);\\r\\n    overflow: auto;\\r\\n  }\\r\\n\\r\\n  .close {\\r\\n    display: block;\\r\\n    box-sizing: border-box;\\r\\n    position: absolute;\\r\\n    z-index: 1000;\\r\\n    top: 1rem;\\r\\n    right: 1rem;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    width: 1.5rem;\\r\\n    height: 1.5rem;\\r\\n    border: 0;\\r\\n    color: black;\\r\\n    border-radius: 1.5rem;\\r\\n    background: white;\\r\\n    box-shadow: 0 0 0 1px black;\\r\\n    transition: transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\\r\\n      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);\\r\\n    -webkit-appearance: none;\\r\\n  }\\r\\n\\r\\n  .close:before,\\r\\n  .close:after {\\r\\n    content: '';\\r\\n    display: block;\\r\\n    box-sizing: border-box;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    width: 1rem;\\r\\n    height: 1px;\\r\\n    background: black;\\r\\n    transform-origin: center;\\r\\n    transition: height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\\r\\n      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);\\r\\n  }\\r\\n\\r\\n  .close:before {\\r\\n    -webkit-transform: translate(0, -50%) rotate(45deg);\\r\\n    -moz-transform: translate(0, -50%) rotate(45deg);\\r\\n    transform: translate(0, -50%) rotate(45deg);\\r\\n    left: 0.25rem;\\r\\n  }\\r\\n\\r\\n  .close:after {\\r\\n    -webkit-transform: translate(0, -50%) rotate(-45deg);\\r\\n    -moz-transform: translate(0, -50%) rotate(-45deg);\\r\\n    transform: translate(0, -50%) rotate(-45deg);\\r\\n    left: 0.25rem;\\r\\n  }\\r\\n\\r\\n  .close:hover {\\r\\n    background: black;\\r\\n  }\\r\\n\\r\\n  .close:hover:before,\\r\\n  .close:hover:after {\\r\\n    height: 2px;\\r\\n    background: white;\\r\\n  }\\r\\n\\r\\n  .close:focus {\\r\\n    border-color: #3399ff;\\r\\n    box-shadow: 0 0 0 2px #3399ff;\\r\\n  }\\r\\n\\r\\n  .close:active {\\r\\n    transform: scale(0.9);\\r\\n  }\\r\\n\\r\\n  .close:hover,\\r\\n  .close:focus,\\r\\n  .close:active {\\r\\n    outline: none;\\r\\n  }\\r\\n\\r\\n</style>\\r\\n\"],\"names\":[],\"mappings\":\"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\"}"
};

function bind(Component, props = {}) {
	return function ModalComponent(options) {
		return new Component({
				...options,
				props: { ...props, ...options.props }
			});
	};
}

const Modal = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	const dispatch = createEventDispatcher();
	const baseSetContext = setContext;
	let { show = null } = $$props;
	let { key = 'simple-modal' } = $$props;
	let { ariaLabel = null } = $$props;
	let { ariaLabelledBy = null } = $$props;
	let { closeButton = true } = $$props;
	let { closeOnEsc = true } = $$props;
	let { closeOnOuterClick = true } = $$props;
	let { styleBg = {} } = $$props;
	let { styleWindowWrap = {} } = $$props;
	let { styleWindow = {} } = $$props;
	let { styleContent = {} } = $$props;
	let { styleCloseButton = {} } = $$props;
	let { classBg = null } = $$props;
	let { classWindowWrap = null } = $$props;
	let { classWindow = null } = $$props;
	let { classContent = null } = $$props;
	let { classCloseButton = null } = $$props;
	let { unstyled = false } = $$props;
	let { setContext: setContext$1 = baseSetContext } = $$props;
	let { transitionBg = fade } = $$props;
	let { transitionBgProps = { duration: 250 } } = $$props;
	let { transitionWindow = transitionBg } = $$props;
	let { transitionWindowProps = transitionBgProps } = $$props;
	let { disableFocusTrap = false } = $$props;

	const defaultState = {
		ariaLabel,
		ariaLabelledBy,
		closeButton,
		closeOnEsc,
		closeOnOuterClick,
		styleBg,
		styleWindowWrap,
		styleWindow,
		styleContent,
		styleCloseButton,
		classBg,
		classWindowWrap,
		classWindow,
		classContent,
		classCloseButton,
		transitionBg,
		transitionBgProps,
		transitionWindow,
		transitionWindowProps,
		disableFocusTrap,
		unstyled
	};

	let state = { ...defaultState };
	let Component = null;
	let background;
	let wrap;
	let modalWindow;
	let scrollY;
	let cssBg;
	let cssWindowWrap;
	let cssWindow;
	let cssContent;
	let cssCloseButton;
	let prevBodyPosition;
	let prevBodyOverflow;
	let prevBodyWidth;
	const camelCaseToDash = str => str.replace(/([a-zA-Z])(?=[A-Z])/g, '$1-').toLowerCase();

	const toCssString = props => props
	? Object.keys(props).reduce((str, key) => `${str}; ${camelCaseToDash(key)}: ${props[key]}`, '')
	: '';

	const isFunction = f => !!(f && f.constructor && f.call && f.apply);

	const updateStyleTransition = () => {
		cssBg = toCssString(Object.assign(
			{},
			{
				width: window.innerWidth,
				height: window.innerHeight
			},
			state.styleBg
		));

		cssWindowWrap = toCssString(state.styleWindowWrap);
		cssWindow = toCssString(state.styleWindow);
		cssContent = toCssString(state.styleContent);
		cssCloseButton = toCssString(state.styleCloseButton);
		state.transitionBg;
		state.transitionWindow;
	};

	const toVoid = () => {
		
	};
	let onClose = toVoid;
	let onClosed = toVoid;

	const open = (NewComponent, newProps = {}, options = {}, callback = {}) => {
		Component = bind(NewComponent, newProps);
		state = { ...defaultState, ...options };
		updateStyleTransition();
		disableScroll();

		onClose = event => {
			if (callback.onClose) callback.onClose(event);

			/**
 * The close event is fired right before the modal closes
 * @event {void} close
 */
			dispatch('close');

			/**
 * The closing event is fired right before the modal closes
 * @event {void} closing
 * @deprecated Listen to the `close` event instead
 */
			dispatch('closing'); // Deprecated. Do not use!
		};

		onClosed = event => {
			if (callback.onClosed) callback.onClosed(event);

			/**
 * The closed event is fired after the modal's closing transition
 * @event {void} closed
 */
			dispatch('closed');
		};
	};

	const close = (callback = {}) => {
		if (!Component) return;
		onClose = callback.onClose || onClose;
		onClosed = callback.onClosed || onClosed;
		Component = null;
		enableScroll();
	};

	const disableScroll = () => {
		scrollY = window.scrollY;
		prevBodyPosition = document.body.style.position;
		prevBodyOverflow = document.body.style.overflow;
		prevBodyWidth = document.body.style.width;
		document.body.style.position = 'fixed';
		document.body.style.top = `-${scrollY}px`;
		document.body.style.overflow = 'hidden';
		document.body.style.width = '100%';
	};

	const enableScroll = () => {
		document.body.style.position = prevBodyPosition || '';
		document.body.style.top = '';
		document.body.style.overflow = prevBodyOverflow || '';
		document.body.style.width = prevBodyWidth || '';
		window.scrollTo(0, scrollY);
	};

	setContext$1(key, { open, close });
	let isMounted = false;

	onDestroy(() => {
		if (isMounted) close();
	});

	onMount(() => {
		isMounted = true;
	});

	if ($$props.show === void 0 && $$bindings.show && show !== void 0) $$bindings.show(show);
	if ($$props.key === void 0 && $$bindings.key && key !== void 0) $$bindings.key(key);
	if ($$props.ariaLabel === void 0 && $$bindings.ariaLabel && ariaLabel !== void 0) $$bindings.ariaLabel(ariaLabel);
	if ($$props.ariaLabelledBy === void 0 && $$bindings.ariaLabelledBy && ariaLabelledBy !== void 0) $$bindings.ariaLabelledBy(ariaLabelledBy);
	if ($$props.closeButton === void 0 && $$bindings.closeButton && closeButton !== void 0) $$bindings.closeButton(closeButton);
	if ($$props.closeOnEsc === void 0 && $$bindings.closeOnEsc && closeOnEsc !== void 0) $$bindings.closeOnEsc(closeOnEsc);
	if ($$props.closeOnOuterClick === void 0 && $$bindings.closeOnOuterClick && closeOnOuterClick !== void 0) $$bindings.closeOnOuterClick(closeOnOuterClick);
	if ($$props.styleBg === void 0 && $$bindings.styleBg && styleBg !== void 0) $$bindings.styleBg(styleBg);
	if ($$props.styleWindowWrap === void 0 && $$bindings.styleWindowWrap && styleWindowWrap !== void 0) $$bindings.styleWindowWrap(styleWindowWrap);
	if ($$props.styleWindow === void 0 && $$bindings.styleWindow && styleWindow !== void 0) $$bindings.styleWindow(styleWindow);
	if ($$props.styleContent === void 0 && $$bindings.styleContent && styleContent !== void 0) $$bindings.styleContent(styleContent);
	if ($$props.styleCloseButton === void 0 && $$bindings.styleCloseButton && styleCloseButton !== void 0) $$bindings.styleCloseButton(styleCloseButton);
	if ($$props.classBg === void 0 && $$bindings.classBg && classBg !== void 0) $$bindings.classBg(classBg);
	if ($$props.classWindowWrap === void 0 && $$bindings.classWindowWrap && classWindowWrap !== void 0) $$bindings.classWindowWrap(classWindowWrap);
	if ($$props.classWindow === void 0 && $$bindings.classWindow && classWindow !== void 0) $$bindings.classWindow(classWindow);
	if ($$props.classContent === void 0 && $$bindings.classContent && classContent !== void 0) $$bindings.classContent(classContent);
	if ($$props.classCloseButton === void 0 && $$bindings.classCloseButton && classCloseButton !== void 0) $$bindings.classCloseButton(classCloseButton);
	if ($$props.unstyled === void 0 && $$bindings.unstyled && unstyled !== void 0) $$bindings.unstyled(unstyled);
	if ($$props.setContext === void 0 && $$bindings.setContext && setContext$1 !== void 0) $$bindings.setContext(setContext$1);
	if ($$props.transitionBg === void 0 && $$bindings.transitionBg && transitionBg !== void 0) $$bindings.transitionBg(transitionBg);
	if ($$props.transitionBgProps === void 0 && $$bindings.transitionBgProps && transitionBgProps !== void 0) $$bindings.transitionBgProps(transitionBgProps);
	if ($$props.transitionWindow === void 0 && $$bindings.transitionWindow && transitionWindow !== void 0) $$bindings.transitionWindow(transitionWindow);
	if ($$props.transitionWindowProps === void 0 && $$bindings.transitionWindowProps && transitionWindowProps !== void 0) $$bindings.transitionWindowProps(transitionWindowProps);
	if ($$props.disableFocusTrap === void 0 && $$bindings.disableFocusTrap && disableFocusTrap !== void 0) $$bindings.disableFocusTrap(disableFocusTrap);
	$$result.css.add(css);

	 {
		{
			if (isMounted) {
				if (isFunction(show)) {
					open(show);
				} else {
					close();
				}
			}
		}
	}

	return `

${Component
	? `<div class="${[
			escape(null_to_empty(state.classBg)) + " svelte-1l7fz0q",
			!unstyled ? "bg" : ""
		].join(' ').trim()}"${add_attribute("style", cssBg, 0)}${add_attribute("this", background, 0)}><div class="${[
			escape(null_to_empty(state.classWindowWrap)) + " svelte-1l7fz0q",
			!unstyled ? "wrap" : ""
		].join(' ').trim()}"${add_attribute("style", cssWindowWrap, 0)}${add_attribute("this", wrap, 0)}><div class="${[
			escape(null_to_empty(state.classWindow)) + " svelte-1l7fz0q",
			!unstyled ? "window" : ""
		].join(' ').trim()}" role="${"dialog"}" aria-modal="${"true"}"${add_attribute("aria-label", state.ariaLabelledBy ? null : state.ariaLabel || null, 0)}${add_attribute("aria-labelledby", state.ariaLabelledBy || null, 0)}${add_attribute("style", cssWindow, 0)}${add_attribute("this", modalWindow, 0)}>${state.closeButton
		? `${isFunction(state.closeButton)
			? `${validate_component(state.closeButton || missing_component, "svelte:component").$$render($$result, { onClose: close }, {}, {})}`
			: `<button class="${[
					escape(null_to_empty(state.classCloseButton)) + " svelte-1l7fz0q",
					!unstyled ? "close" : ""
				].join(' ').trim()}" aria-label="${"Close modal"}"${add_attribute("style", cssCloseButton, 0)}></button>`}`
		: ``}
        <div class="${[
			escape(null_to_empty(state.classContent)) + " svelte-1l7fz0q",
			!unstyled ? "content" : ""
		].join(' ').trim()}"${add_attribute("style", cssContent, 0)}>${validate_component(Component || missing_component, "svelte:component").$$render($$result, {}, {}, {})}</div></div></div></div>`
	: ``}
${slots.default ? slots.default({}) : ``}`;
});

export default Modal;
export { Modal, bind };
