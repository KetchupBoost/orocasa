{"version":3,"file":"svelte-imask.js","sources":["../src/action.js"],"sourcesContent":["import IMask from 'imask';\n\n\nfunction fireEvent (el, eventName, data) {\n  var e = document.createEvent('CustomEvent');\n  e.initCustomEvent(eventName, true, true, data);\n  el.dispatchEvent(e);\n}\n\nfunction initMask (el, opts) {\n  const maskRef = (opts instanceof IMask.InputMask ? opts : IMask(el, opts));\n  return maskRef\n    .on('accept', () => fireEvent(el, 'accept', maskRef))\n    .on('complete', () => fireEvent(el, 'complete', maskRef));\n}\n\n\nexport default\nfunction IMaskAction (el, options) {\n  let maskRef = options && initMask(el, options);\n\n  function destroy () {\n    if (maskRef) {\n      maskRef.destroy();\n      maskRef = undefined;\n    }\n  }\n\n  function update (options) {\n    if (options) {\n      if (maskRef) {\n        if (options instanceof IMask.InputMask) maskRef = options;\n        else maskRef.updateOptions(options);\n      }\n      else maskRef = initMask(el, options);\n    } else {\n      destroy();\n    }\n  }\n\n  return {\n    update,\n    destroy,\n  };\n}\n"],"names":["fireEvent","el","eventName","data","e","document","createEvent","initCustomEvent","dispatchEvent","initMask","opts","maskRef","IMask","InputMask","on","IMaskAction","options","destroy","undefined","update","updateOptions"],"mappings":";;;;;;;;;;EAGA,SAASA,SAAT,CAAoBC,EAApB,EAAwBC,SAAxB,EAAmCC,IAAnC,EAAyC;EACvC,MAAIC,CAAC,GAAGC,QAAQ,CAACC,WAAT,CAAqB,aAArB,CAAR;EACAF,EAAAA,CAAC,CAACG,eAAF,CAAkBL,SAAlB,EAA6B,IAA7B,EAAmC,IAAnC,EAAyCC,IAAzC;EACAF,EAAAA,EAAE,CAACO,aAAH,CAAiBJ,CAAjB;EACD;;EAED,SAASK,QAAT,CAAmBR,EAAnB,EAAuBS,IAAvB,EAA6B;EAC3B,MAAMC,OAAO,GAAID,IAAI,YAAYE,yBAAK,CAACC,SAAtB,GAAkCH,IAAlC,GAAyCE,yBAAK,CAACX,EAAD,EAAKS,IAAL,CAA/D;EACA,SAAOC,OAAO,CACXG,EADI,CACD,QADC,EACS;EAAA,WAAMd,SAAS,CAACC,EAAD,EAAK,QAAL,EAAeU,OAAf,CAAf;EAAA,GADT,EAEJG,EAFI,CAED,UAFC,EAEW;EAAA,WAAMd,SAAS,CAACC,EAAD,EAAK,UAAL,EAAiBU,OAAjB,CAAf;EAAA,GAFX,CAAP;EAGD;;EAID,SAASI,WAAT,CAAsBd,EAAtB,EAA0Be,OAA1B,EAAmC;EACjC,MAAIL,OAAO,GAAGK,OAAO,IAAIP,QAAQ,CAACR,EAAD,EAAKe,OAAL,CAAjC;;EAEA,WAASC,OAAT,GAAoB;EAClB,QAAIN,OAAJ,EAAa;EACXA,MAAAA,OAAO,CAACM,OAAR;EACAN,MAAAA,OAAO,GAAGO,SAAV;EACD;EACF;;EAED,WAASC,MAAT,CAAiBH,OAAjB,EAA0B;EACxB,QAAIA,OAAJ,EAAa;EACX,UAAIL,OAAJ,EAAa;EACX,YAAIK,OAAO,YAAYJ,yBAAK,CAACC,SAA7B,EAAwCF,OAAO,GAAGK,OAAV,CAAxC,KACKL,OAAO,CAACS,aAAR,CAAsBJ,OAAtB;EACN,OAHD,MAIKL,OAAO,GAAGF,QAAQ,CAACR,EAAD,EAAKe,OAAL,CAAlB;EACN,KAND,MAMO;EACLC,MAAAA,OAAO;EACR;EACF;;EAED,SAAO;EACLE,IAAAA,MAAM,EAANA,MADK;EAELF,IAAAA,OAAO,EAAPA;EAFK,GAAP;EAID;;;;;;;;;;"}